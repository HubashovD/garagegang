<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Title</title>

    <!-- Links-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="css/rSlider.css">
    <!--<link rel="stylesheet" href="css/jquery.dataTables.min.css"/>-->
    <link rel="stylesheet" href="css/styles.css"/>
</head>
<body>

<main>


<nav>
    <div style="background-color: rgba(250,250,250, 0.9); padding: 5px;">
        <p id="toggle-nav" title="згорнути"><i class="fas fa-times"></i></p>

        <div class="accordion">
            <div id="buttons">
                <div>
                    <p>Оберіть тип платформи:</p>
                    <button id="craudf" class="button active" >Краунфандінг</button>
                    <button id="budget" class="button">Громадський бюджет</button>
                </div>
                <div>
                    <p>Оберіть голоси або гроші:</p>
                    <button id="money" class="button active" >Бюджет</button>
                    <button id="voices" class="button">Кількість голосів</button>
                </div>

            </div>

        <p>Оберіть період: </p>
            <input type="text" id="slider" class="slider">
        </div>

    </div>
    <ul id="legend">
        <li><span style="background-color: #5CE577"></span>Культурний капітал</li>
        <li><span style="background-color: #4A80FF"></span>Соціальний</li>
        <li><span style="background-color: #EAEDA0"></span>Людський</li>
        <li><span style="background-color: #EB6AC2"></span>Інфраструктурний</li>
        <li><span style="background-color: white"></span>Економічний</li>
    </ul>

    <p style="color: rgba(250,250,250, 0.9)"> Клікніть на будь-який стовбчик, щоб відфільтрувати результати в табличці під графіками</p>
</nav>


    <div id="chart-wrapper"><div id="chart"></div></div>

</main>


<div id="wrapper"></div>

<!--		Start Pagination -->


<div class='pagination-container' >
        <ul class="pagination">

            <!--<li data-page="prev">-->
                <!--<span> < <span class="sr-only"></span></span>-->
            <!--</li>-->
            	<!--&lt;!&ndash;Here the JS Function Will Add the Rows&ndash;&gt;-->
            <!--<li data-page="next" id="prev">-->
                <!--<span> > <span class="sr-only"></span></span>-->
            <!--</li>-->
        </ul>
</div>






<!-- Scripts -->
<script src="lib/jquery-3.3.1.js"></script>
<script src="lib/d3v5.min.js"></script>
<script src="lib/underscore-min.js"></script>
<script src="lib/rSlider.js"></script>
<!--<script src="lib/jquery.dataTables.min.js"></script>-->
<script src="js/table.js"></script>

<script src="js/main.js"></script>
<script src="js/barcharts.js"></script>

<script>
    var width;
    var columns;
    var one_w;
    var one_h;


    const set_size = function(){
        width = d3.select("#chart-wrapper").node().getBoundingClientRect().width;
        if(width >= 500) {
            one_w = 250;
            columns = Math.floor(width / one_w);
            d3.selectAll("#chart").style("width", columns * one_w + "px");
        } else {
            one_w = 160;
            columns = Math.floor(width / one_w);
            d3.selectAll("#chart").style("width", columns * one_w + "px");
            //d3.selectAll("#chart").style("width", "100%");
        }
    };

    set_size();
    d3.select(window).on("resize", set_size);

    $("#toggle-nav").on("click", function(){
        $(this).find("i").toggleClass("fa-times");
        $(this).find("i").toggleClass("fa-plus");
        $(".accordion").toggleClass("display-none");

    })


</script>


</body>
</html>